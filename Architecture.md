# Архитектура
1. [Проектирование архитектуры](#type) <br>
  1.1 [Тип приложения](#type) <br>
  1.2 [Стратегия развертывания](#strategy) <br>
  1.3 [Используемые технологии](#technology) <br>
  1.4 [Реализация сквозной функциональности](#throught) <br>
  1.5 [Показатели качества](#quality) <br>
  1.6 [Диаграммы](#diagram) <br>
2. [Анализ архитектуры](#analysis) <br>
3. [Сравнение As Is и To Be, пути улучшения архитектуры](#compare) <br>  

<a name='type'></a>
## 1. Проектирование архитектуры 
### 1.1 Тип приложения
  Данное приложения будет создано на основе на микросервисной архитектуры. Оно будет состоять из 2 модулей: <br>
- Back-end - вся логика приложения. 
- Front-end - отображение UI.
Согласно микросервисной архитектуре для каждого модуля будет создана отдельная база данных.

<a name='strategy'></a>
### 1.2 Стартегия развертывания
  Для развертывания данного приложения будет применяться набор облачных сервисов, предоставляемых Cloud Google.
  
<a name='technology'></a>
### 1.3 Используемые технологии
  Для написания серверной части выбор пал на Spring Framework, поскольку он наиболее распространен и предоставляет очень широкий и удобный инструментарий, позволяющий в несколько строк кода и пару аннотаций создать с нуля полноценный REST веб сервис. Клиентская часть будет написана при помощи Javascript фреймворка Angular.
  
<a name="throught"></a>
### 1.4 Реализация сквозной функциональности
  Система логгирования была написана путем вызова функций логгирования во всех участках кода. Для обработки ошибок, возникающих на уровне пакетов типа Service реализованы отдельные контроллеры обработки ошибок, которые перехватывают пробрасываемые выше исключения и обрабатывают их. Безопасность приложения будет реализована с примененим Spring Security, что ограничит доступ пользователей к аккаунту администратора.
  
<a name="quality"></a>
### 1.5 Показатели качества
  - Front-end и Back-end представляют собой два разных проекта.
  - Доступность любой функциональности приложения в три клика.
  
<a name="diagrams"></a>
### 1.6 Диаграммы
  С диаграммами приложения можно ознакомиться по следующей [ссылке](https://github.com/KirillKomarov550503/poker-manager/tree/master/diagrams)

<a name="analysis"></a>
## 2. Анализ архитектуры
  Архитектура каждого модуля представляет состоит из одинакового набора пакетов:
  - controller - Содержит внутри себя, REST контроллеры, отвечающие на запросы как со стороны пользователя, так и со стороны других приложения. Сюда так же входя advice контроллеры, задача которых заключается в обработке ошибок.
  - service - Внутри классов данного пакета содержится вся бизнес-логика приложения. CRUD операции игроками, раундами и структурой турнира.
  - repository - В данном пакете находятся репозитории - интерфейсы, взаимодействующие непосредственно с базой данных.
  - entity - Содержит классы, отображающие сущности и отношения между ними, на основе которых строится база данных.
  - dto - Содержат классы, которые представляют сущности в удобном формате для клиентской части приложения.
  - configuration - Классы, выполняющие настройку фреймворка.
  - converter - Классы, занимающиеся пребразованием сущностей в dto.
  - exception - Собственные исключения.
  
  Не очень сложные приложения, построенные на базе Spring Framework, как правило, состоят из данных пакетов. Так же для них характерна иерархическая структура: ControllerClass содержит как миним один ServiceClass. ServiceClass как правило один или несколько Repository и ConverterClass. 
  
<a name="compare"></a>
### 3. Сравнение As Is и To Be, пути улучшения архитектуры
  Архитектуры As Is и To Be получились почти одинаковыми, исключениями являются добавление пакета Validation в Сustomer Management, использование уже реализованных классов мапперов, в результате чего не было неоходимости создавать пакет классов mapper, а также отсутствия пакета со своими исключениями. Столь незначительные различия можно объяснить довольно простой системой сущностей и взаимосвязей между ними. 
  Пути улучшения архитектуры:
- вынесение в отдельный класс AccountDto личную информацию о пользователе - (EG-7198)
- dependency injection - (EG-4288)
- реализация builder - (EG-3842)
- непрерывная интеграция (Jenkins) - (EG-2655)
